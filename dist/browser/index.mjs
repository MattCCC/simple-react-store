import{useReducer as P,useMemo as h}from"react";import{createContext as A,useContextSelector as d}from"use-context-selector";import{Fragment as v,jsx as s}from"react/jsx-runtime";function O(t){return(e,n)=>({...e,[t]:n})}function y(t){let e=Object.assign({},t);return Object.keys(t).forEach(n=>{e[n]=()=>{}}),e}function b(t,e){let n=[t,y(e)],o=A(n),c=null;function l(r,i){let u=e[i.type](r,...i.payload);return typeof u!="object"||u===null?r:{...r,...u}}function S({children:r}){let[i,u]=P(l,t);c=h(()=>{let a=Object.assign({},e);return Object.keys(e).forEach(f=>{a[f]=(...k)=>{u({type:f,payload:k})}}),a},[u]);let x=[i,c];return s(o.Provider,{value:x,children:r})}function p(){return d(o,r=>r)}function M(r){return[d(o,u=>u[0][r]),c]}return{Provider:S,useStore:p,useStoreProp:M}}function g(...t){function e({children:n}){let o=n;return t.forEach(({Provider:c})=>{o=s(c,{children:o})}),s(v,{children:o})}return e}function W(t,e,n,o){return{...n,[t]:{...e[t],...n[t],...o}}}export{b as createStore,W as mergeState,O as set,g as useStoreProvider};
//# sourceMappingURL=index.mjs.map