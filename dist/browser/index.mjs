import{useReducer as h,useMemo as d}from"react";import{createContext as A,useContextSelector as l}from"use-context-selector";import{Fragment as C,jsx as s}from"react/jsx-runtime";function O(t){return(e,n)=>({...e,[t]:n})}function y(t){let e=Object.assign({},t);return Object.keys(t).forEach(n=>{e[n]=()=>{}}),e}function b(t,e){let n=[t,y(e)],o=A(n),c=null;function S(r,i){let u=e[i.type](r,...i.payload);return typeof u!="object"||u===null?{...r}:{...r,...u}}function p({children:r}){let[i,u]=h(S,t);c=d(()=>{let a=Object.assign({},e);return Object.keys(e).forEach(f=>{a[f]=(...P)=>{u({type:f,payload:P})}}),a},[u]);let k=d(()=>[i,c],[i,c]);return s(o.Provider,{value:k,children:r})}function M(){return l(o,r=>r)}function x(r){return[l(o,u=>u[0][r]),c]}return{Provider:p,useStore:M,useStoreProp:x}}function g(...t){function e({children:n}){let o=n;return t.forEach(({Provider:c})=>{o=s(c,{children:o})}),s(C,{children:o})}return e}function W(t,e,n,o){return{...n,[t]:{...e[t],...n[t],...o}}}export{b as createStore,W as mergeState,O as set,g as useStoreProvider};
//# sourceMappingURL=index.mjs.map